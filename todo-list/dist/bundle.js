!function(n){var t={};function e(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return n[o].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=n,e.c=t,e.d=function(n,t,o){e.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:o})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,t){if(1&t&&(n=e(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var i in n)e.d(o,i,function(t){return n[t]}.bind(null,i));return o},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="",e(e.s=0)}({"./src/app.js":function(module,exports,__webpack_require__){eval("const {uuid, Todo} = __webpack_require__(/*! ./utils */ \"./src/utils.js\");\n\nlet todos = ['Witness something truly majestic',\n  'Help a complete stranger',\n  'Drive a motorcycle on the Great Wall of China',\n  'Sit on the Great Egyptian Pyramids'\n];\n\nvar app = {\n  init: function () {\n    this.todoList = [];\n    this.initTodos();\n    this.bindEvent();\n    this.render();\n    this.focusInput();\n    M.AutoInit();\n  },\n  initTodos: function () {\n    for (let todo of todos) {\n      this.todoList.push(new Todo(todo));\n    }\n  },\n  bindEvent: function () {\n    let self = this;\n    $(document).on('click', '.done-btn', function () {\n      let $this = $(this);\n      let $checkbox = $this.find('i');\n      let $todo = $this.parent();\n      let i = self.indexOfTodo($todo.data('id'));\n      if (i >= 0) {\n        self.todoList[i].isDone = !self.todoList[i].isDone;\n      } else {\n        return;\n      }\n      self.render();\n      self.focusInput();\n    });\n\n    $(document).on('mouseenter', '.todo-item', function () {\n      $editBtns = $(this).find('.edit-btns');\n      $editBtns.removeClass('hide');\n    });\n\n    $(document).on('mouseleave', '.todo-item', function () {\n      $editBtns = $(this).find('.edit-btns');\n      $editBtns.addClass('hide');\n    });\n\n    $(document).on('keyup', 'input[name=todo]', function (e) {\n      if (e.key === 'Enter') {\n        if ($(e.target).val() !== '') {\n          self.todoList.push(new Todo($(e.target).val()));\n          $(e.target).val('');\n          self.render();\n        }\n      }\n      self.focusInput();\n    });\n\n    $(document).on('click', '.delete-btn', function (e) {\n      let $this = $(this);\n      let $todo = $this.parent().parent();\n      let i = self.indexOfTodo($todo.data('id'));\n      if (i >= 0) {\n        self.todoList.splice(i, 1);\n        self.render();\n      }\n    });\n\n    $(document).on('click', '.edit-btn', function () {\n      let $this = $(this);\n      let $todo = $this.parent().parent();\n      let i = self.indexOfTodo($todo.data('id'));\n      if (i >= 0) {\n        let source = $('#edit-input-template').html();\n        let $editInput = $(Handlebars.compile(source)());\n        $editInput.val(self.todoList[i].body);\n        $todo.html('');\n        $todo.append($editInput);\n        $editInput.focus();\n      }\n    });\n\n    $(document).on('click', '#clear-btn', function() {\n      self.todoList = self.todoList.filter(todo => !todo.isDone);\n      self.render();\n    });\n\n    $(document).on('focusout', 'input[name=edit-input]', function () {\n      self.render();\n    });\n\n    $(document).on('keydown', 'input[name=edit-input]', function (e) {\n      if (e.key === 'Enter') {\n        self.editCallback(this);\n      } else if (e.key === 'Escape') {\n        self.render();\n      }\n    });\n\n    $(document).on('click', '.tabs', function() {\n      self.render();\n    });\n  },\n  render: function () {\n    if (this.todoList.length > 0) {\n      if ($('#tabs').html().trim() === '') {\n        let source = $('#tabs-template').html();\n        let $tabs = $(Handlebars.compile(source)());\n        $('#tabs').append($tabs);\n      }\n      $('#todo-list').html('');\n      let source = $('#todo-template').html();\n      let template = Handlebars.compile(source);\n      let todoList = this.todoList;\n      switch ($('.tab > a.active').attr('id')) {            \n        case 'tab-active':\n          todoList = todoList.filter(todo => !todo.isDone);\n          break;\n        case 'tab-done':\n          todoList = todoList.filter(todo => todo.isDone);\n          break;\n      }\n      for (let todo of todoList) {\n        $('#todo-list').append(template(todo));\n      }\n      this.updateCount();\n    } else {\n      $('#tabs').html('');\n      $('#todo-list').html('');\n    }\n\n  },\n  focusInput: function () {\n    $('input[name=todo]').focus();\n  },\n  indexOfTodo: function (id) {\n    for (let i = 0; i < this.todoList.length; i++) {\n      if (this.todoList[i].id === id) {\n        return i;\n      }\n    }\n    return -1;\n  },\n  editCallback: function (input) {\n    let $this = $(input);\n    let $todo = $this.parent();\n    let i = this.indexOfTodo($todo.data('id'));\n    let body = $this.val();\n    if (i >= 0) {\n      if (body !== '') {\n        this.todoList[i].body = body;\n      }\n      this.render();\n    }\n  },\n  getActiveCount: function () {\n    return this.todoList.filter(function (todo) {\n      return todo.isDone === false;\n    }).length;\n  },\n  updateCount: function () {\n    let total = this.todoList.length;\n    let active = this.getActiveCount();\n    let done = total - active;\n    $('#count-all').text(total);\n    $('#count-active').text(active);\n    $('#count-done').text(done);\n  }\n};\napp.init();\n\n\n//# sourceURL=webpack:///./src/app.js?")},"./src/utils.js":function(module,exports){eval("function uuid() {\n  let d = Date.now();\n  if (typeof performance !== 'undefined' && typeof performance.now === 'function') {\n    d += performance.now();\n  }\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    let r = (d + Math.random() * 16) % 16 | 0;\n    return (c === 'x' ? r : (r & 0x3 | 0x8)).toString(16);\n  });\n}\n\nfunction Todo(body) {\n  this.id = uuid();\n  this.body = body;\n  this.isDone = false;\n}\n\nmodule.exports = {\n  Todo: Todo,\n  uuid: uuid\n}\n\n\n//# sourceURL=webpack:///./src/utils.js?")},0:function(module,exports,__webpack_require__){eval('__webpack_require__(/*! /home/andrew/Desktop/mentor-program-2nd/homeworks/week10/hw1/src/app.js */"./src/app.js");\nmodule.exports = __webpack_require__(/*! /home/andrew/Desktop/mentor-program-2nd/homeworks/week10/hw1/src/utils.js */"./src/utils.js");\n\n\n//# sourceURL=webpack:///multi_./src/app.js_./src/utils.js?')}});